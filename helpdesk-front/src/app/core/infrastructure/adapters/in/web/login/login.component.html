<div class="container">
  <form [formGroup]="loginForm" (ngSubmit)="login()" class="form mat-elevation-z8">

    <h1>Help Desk 3.0</h1>

    <img ngSrc="assets/img/login-image.svg" alt="Help Desk - 3.0" width="793" height="552" priority>

    <mat-form-field class="full-width" appearance="outline">
      <mat-label>E-mail</mat-label>
      <input
        formControlName="email"
        required
        matInput
        placeholder="Ex. fulano@mail.com">
      <mat-icon matSuffix>email</mat-icon>
      <mat-error *ngIf="loginForm.get('email')?.invalid && (loginForm.get('email')?.touched || formSubmitted)">
        <span *ngIf="loginForm.get('email')?.hasError('required')">E-mail é obrigatório</span>
        <span *ngIf="loginForm.get('email')?.hasError('email')">E-mail inválido</span>
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width" appearance="outline">
      <mat-label>Senha</mat-label>
      <input
        formControlName="password"
        required
        type="password"
        matInput
        placeholder="Ex. 123">
      <mat-icon matSuffix>password</mat-icon>
      <mat-error *ngIf="loginForm.get('password')?.invalid && (loginForm.get('password')?.touched || formSubmitted)">
        <span *ngIf="loginForm.get('password')?.hasError('required')">Senha é obrigatória</span>
        <span *ngIf="loginForm.get('password')?.hasError('minlength')">Senha deve ter no mínimo 10 caracteres</span>
      </mat-error>
    </mat-form-field>

    <button type="submit" [disabled]="!validFields()" class="full-width mat-elevation-z4" mat-stroked-button color="primary">
      {{ isLoading ? 'Carregando...' : 'Login' }}
    </button>
  </form>

</div>
